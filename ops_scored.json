{
  "components": {
    "1": {
      "id": "1",
      "type": "lab.html.Page",
      "items": [
        {
          "required": true,
          "type": "likert",
          "items": [
            {
              "label": "自分の将来は、良いことが起こると思う",
              "coding": "O1"
            },
            {
              "label": "私の将来は、暗いと思う",
              "coding": "P1"
            },
            {
              "label": "将来、幸せになれると思う",
              "coding": "O2"
            },
            {
              "label": "望ましくない、未来の自分の姿ばかりを想像する",
              "coding": "P2"
            },
            {
              "label": "私は将来に対して、前向きに考えている",
              "coding": "O3"
            },
            {
              "label": "何もかもが悪い方向にしか進まないだろうと思う",
              "coding": "P3"
            },
            {
              "label": "自分の将来は、恵まれていると思う",
              "coding": "O4"
            },
            {
              "label": "私の望みは叶わないと思う",
              "coding": "P4"
            },
            {
              "label": "自分の将来に期待がもてる",
              "coding": "O5"
            },
            {
              "label": "自分の将来に絶望している",
              "coding": "P5"
            },
            {
              "label": "これからの人生は良いものになるだろうと思う",
              "coding": "O6"
            },
            {
              "label": "何かを計画する時、失敗している自分の姿が頭に浮かぶ",
              "coding": "P6"
            },
            {
              "label": "結果が予想できない時は、良い方向に期待する",
              "coding": "O7"
            },
            {
              "label": "何をしても、うまくいかないことばかりを想像する",
              "coding": "P7"
            },
            {
              "label": "私には、悪いことよりも良いことが起こると思う",
              "coding": "O8"
            },
            {
              "label": "結局、自分の目標は達成できないだろう",
              "coding": "P8"
            },
            {
              "label": "何かに取りかかる時は、成功するだろうと考える",
              "coding": "O9"
            },
            {
              "label": "今後のことを考えると、悪いことばかりが頭に浮かぶ",
              "coding": "P9"
            },
            {
              "label": "自分の将来を楽しみにしている",
              "coding": "O10"
            },
            {
              "label": "何かに取りかかる時は、失敗するだろうと考える",
              "coding": "P10"
            }
          ],
          "width": 4,
          "anchors": [
            "<span class=\"tategaki\">全く当てはまらない</span>",
            "<span class=\"tategaki\">当てはまらない</span>",
            "<span class=\"tategaki\">当てはまる</span>",
            "<span class=\"tategaki\">よく当てはまる</span>"
          ],
          "label": "以下の各文について、あなたがどの程度当てはまるかを1つ選んでください。",
          "name": "Question"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "次へ →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "Compute O/P sums",
          "message": "end",
          "code": "// Compute O and P sums on page end\n(function() {\n  try {\n    const ds = this.options && this.options.datastore ? this.options.datastore : null;\n    // Try to read the last row (responses of this page)\n    let row = {}\n    if (ds && Array.isArray(ds.data) && ds.data.length) {\n      row = ds.data[ds.data.length - 1] || {};\n    }\n    const num = (x) => {\n      const n = Number(x);\n      return isFinite(n) ? n : 0;\n    };\n    const O_KEYS = ['O1', 'O2', 'O3', 'O4', 'O5', 'O6', 'O7', 'O8', 'O9', 'O10'];\n    const P_KEYS = ['P1', 'P2', 'P3', 'P4', 'P5', 'P6', 'P7', 'P8', 'P9', 'P10'];\n    const sumKeys = (keys) => keys.reduce((s,k) => s + num(row[k]), 0);\n    const O_sum = sumKeys(O_KEYS);\n    const P_sum = sumKeys(P_KEYS);\n    // Save in datastore (best-effort, support both commit and set)\n    if (ds && typeof ds.commit === 'function') ds.commit({ O_sum, P_sum });\n    if (ds && typeof ds.set === 'function') { ds.set('O_sum', O_sum); ds.set('P_sum', P_sum); }\n    // Also attach to global (for later feedback steps)\n    if (typeof window !== 'undefined') { window.O_sum = O_sum; window.P_sum = P_sum; }\n  } catch (e) {\n    console.error('Scoring error:', e);\n  }\n})();"
        }
      ],
      "title": "Questionnaire",
      "width": "l"
    },
    "2": {
      "id": "2",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "title": "楽観・悲観性尺度",
          "content": "このアンケートは授業や研究の補助に活用しますが，個人が特定されることはありません。<br>また，回答の有無が成績に影響することは一切ありません。<br><br>回答時間の目安：3〜5分<br><br>出典：外山美樹 (2013). 楽観・悲観性尺度の作成ならびに信頼性・妥当性の検討. 心理学研究, 84(3), 256–266. <a href=\"https://doi.org/10.4992/jjpsy.84.256\" target=\"_blank\" rel=\"noopener noreferrer\">https://doi.org/10.4992/jjpsy.84.256</a>"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "始める →",
      "submitButtonPosition": "right",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "Inst"
    },
    "4": {
      "id": "4",
      "type": "lab.html.Page",
      "items": [
        {
          "type": "text",
          "title": "ありがとうございました。",
          "content": "これで調査は終了です。"
        }
      ],
      "scrollTop": true,
      "submitButtonText": "結果のダウンロード →",
      "submitButtonPosition": "hidden",
      "files": [],
      "responses": [
        {
          "label": "",
          "event": "",
          "target": "",
          "filter": ""
        }
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "messageHandlers": [
        {
          "title": "",
          "message": "",
          "code": ""
        }
      ],
      "title": "Thanks"
    },
    "root": {
      "id": "root",
      "title": "root",
      "type": "lab.flow.Sequence",
      "children": [
        "2",
        "1",
        "4"
      ],
      "parameters": [
        {
          "name": "",
          "value": "",
          "type": "string"
        }
      ],
      "plugins": [
        {
          "type": "lab.plugins.Metadata"
        }
      ],
      "metadata": {
        "title": "OSG likert",
        "description": "",
        "repository": "",
        "contributors": "Takayuki Osugi"
      },
      "messageHandlers": [],
      "files": []
    }
  },
  "version": [
    20,
    2,
    4
  ],
  "files": {
    "files": {
      "index.html": {
        "content": "data:text/html,%3C!doctype%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%20%20%3Cmeta%20charset%3D%22utf-8%22%3E%0A%20%20%3Ctitle%3Eops_demo%3C%2Ftitle%3E%0A%20%20%3C!--%20viewport%20setup%20--%3E%0A%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1%22%3E%0A%20%20%3C!--%20lab.js%20library%20and%20experiment%20code%20--%3E%0A%20%20%24%7B%20header%20%7D%0A%3C%2Fhead%3E%0A%3Cbody%3E%0A%20%20%3C!--%20If%20you'd%20rather%20have%20a%20container%20with%20a%20fixed%20width%0A%20%20%20%20%20%20%20and%20variable%20height%2C%20try%20removing%20the%20fullscreen%20class%20below%20--%3E%0A%20%20%3Cdiv%20class%3D%22container%20fullscreen%22%20data-labjs-section%3D%22main%22%3E%0A%20%20%20%20%3Cmain%20class%3D%22content-vertical-center%20content-horizontal-center%22%3E%0A%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3ELoading%20Experiment%3C%2Fh2%3E%0A%20%20%20%20%20%20%20%20%3Cp%3EThe%20experiment%20is%20loading%20and%20should%20start%20in%20a%20few%20seconds%3C%2Fp%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fmain%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A",
        "source": "library"
      },
      "style.css": {
        "content": "data:text/css,%2F*%20Please%20define%20your%20custom%20styles%20here%20*%2F%0A.tategaki%20%7B%0A%20%20-ms-writing-mode%3A%20tb-rl%3B%0A%20%20writing-mode%3A%20vertical-rl%3B%0A%7D",
        "source": "library"
      }
    },
    "bundledFiles": {
      "lib/lab.js": {
        "type": "application/javascript"
      },
      "lib/lab.js.map": {
        "type": "text/plain"
      },
      "lib/lab.fallback.js": {
        "type": "application/javascript"
      },
      "lib/lab.legacy.js": {
        "type": "application/javascript"
      },
      "lib/lab.legacy.js.map": {
        "type": "text/plain"
      },
      "lib/lab.css": {
        "type": "text/css"
      },
      "lib/loading.svg": {
        "type": "image/svg+xml"
      }
    }
  }
}